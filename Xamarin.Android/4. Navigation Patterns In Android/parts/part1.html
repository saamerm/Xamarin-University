<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Exercise 1: Stack Navigation</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>Navigation Patterns</header>

   	<section id="main">

		<h1 id="page-title"></h1>

		<!-- ---------------------------------------------------------------------------------------------------------------- -->

		<h2>Duration</h2>
		<p>
			10 minutes
		</p>

		<!-- ---------------------------------------------------------------------------------------------------------------- -->

		<div class="hintblock">
			<strong>Tip:</strong> If you are doing this exercise live in a session, make sure to make good use of the instructor,
			they are online to answer any questions you have!
		</div>

		<!-- ---------------------------------------------------------------------------------------------------------------- -->

		<h2>Lab Goals</h2>

		<p>
			The primary goal of this lab is to add Stack Navigation to a partially-written app.
			You will be working on a <strong>Clock</strong> app that provides the four pages shown below: <em>main</em>,
			<em>current time</em>, <em>stopwatch</em>, and <em>about</em>. The individual pages of the app are supplied;
			your job is to build the main navigation structure. Notice the list-view in the first screenshot. Clicking
			one of the items in the list will navigate to the appropriate page; that is the key thing you will be coding.
		</p>

		<img src="./res/images/StackNavigationCompleted.png" />

		<h2>Required assets</h2>

		<p>
			The provided <strong>Resources</strong> folder for this exercise contains a subfolder named <strong>Start</strong>
			that contains the app you will use.  There is also a <strong>Completed</strong> folder with a solution you
			can use to check your work. Please make sure you have these folders before you begin.
		</p>

		<!-- ---------------------------------------------------------------------------------------------------------------- -->
		
		<h2>Challenge</h2>

		<p>
			You can use the high-level description here to work through the lab on your own. Alternatively, you can use
			the instructions below if you would like step-by-step guidance.
		</p>
		
		<ol>
			<li>
				Open the provided <strong>Clock</strong> solution.
			</li>

			<li>
				Open <strong>MainActivity.cs</strong>.
			</li>

			<li>
				Complete the implementation of the <code>OnMenuClick</code> method. Use an <code>Intent</code> to navigate
				to the appropriate Activity based on which menu-item was clicked.
			</li>

			<li>
				Run the app to test your work.
			</li>
		</ol>

		<!-- ---------------------------------------------------------------------------------------------------------------- -->

		<h1>Steps</h1>

		<p>
			Below are the step-by-step instructions to implement the exercise.
		</p>

		<h2>
			Examine the starter code
		</h2>

		<p>
			The supplied code implements the entire <strong>Clock</strong> app except for the Stack Navigation part.
			Before you begin coding, the steps here will lead you through an examination of a few key parts of the provided code.
		</p>

		<ol>
			<li>
				Open the <strong>Clock</strong> solution from the <strong>Lab.Start</strong> folder.
			</li>

			<li>
				Open <strong>Resources/layout/Time.axml</strong> in source-code view.
			</li>

			<li>
				Notice that the UI to display the current time is just a <code>TextView</code>. The string it displays
				is updated every second from the code-behind.
			</li>

			<li>
				Open <strong>TimeActivity.cs</strong>.
			</li>

			<li>
				Note that the <code>TimeActivity</code> is an Activity.
				The implementation uses a timer to update the UI once per second.
			</li>

			<li>
				The other Activities (<code>StopwatchActivity</code> and <code>AboutActivity</code>) are similar. If you
				have extra time, feel free to examine them; however, there is nothing there that you need to know to
				continue with the exercise.
			</li>

			<li>
				Open <strong>Resources/layout/Main.axml</strong> in source-code view.
			</li>

			<li>
				Notice the <code>ListView</code>. This is the navigation "menu".

			</li>

			<li>
				Open <strong>MainActivity.cs</strong>.
			</li>

			<li>
				The <code>OnCreate</code> method initializes the <code>ListView</code> so it has one entry
				for each of the three app functions: time, stopwatch, and about. When the user clicks on one
				of the list items, you will need to write code to navigate the app to the corresponding activity.
			</li>

		</ol>

		<h2>
			Implement Stack Navigation
		</h2>

		<p>
			Here you will code Stack Navigation. You will create an Intent and start an Activity 
			when the user clicks on the navigation menu.
		</p>

		<ol>
			<li>
				Open <strong>MainActivity.cs</strong> and locate the <code>OnMenuClick</code> method.
				All your work will be done inside this method.
			</li>

			<li>
				The <code>ListView</code> will pass you the index of the clicked item in the 
				<code>Position</code> property of the EventArgs. You will need to retrieve this
				value so you can decide which Activity you will navigate to.
			</li>

			<li>
				Create an <code>Intent</code> to navigate to the Activity the user selected.
				The <code>Intent</code> class has several constructors; you should use the version
				that takes two arguments: a <code>Context</code> (your Activity is a <code>Context</code>)
				and a <code>Type</code>. Pass a different <code>Type</code> object based on the value of the 
				<code>Position</code> property in the EventArgs. Below is some generic code that shows how to
				create an <code>Intent</code>.
<p><div><pre class="prettyprint">
var intent = new Intent(this, typeof(TargetActivity));
</pre></div></p>

			</li>

			<li>
				Call the <code>StartActivity</code> method and pass it the <code>Intent</code>.
			</li>

			<li>
				Run the app to test your work. Click on one of the items in the list. 
				Use the Android Back button to return to the Main screen.
			</li>
		</ol>

		<!-- ---------------------------------------------------------------------------------------------------------------- -->

		<h1>Summary</h1>

		<p>
			This lab asked you to use Activities and Intents to implement Stack Navigation.
			Creating an Intent and calling <code>StartActivity</code> performed forward navigation.
			The new Activity was automatically added to the Android back-stack. The Android
			Back button automatically returned your app to the previous Activity (i.e. it
			popped the back-stack). This built-in support makes it possible to implement Stack
			Navigation with very little code.
		</p>

		<!-- ---------------------------------------------------------------------------------------------------------------- -->

		<div class="align-right">
			<a href="../StartHere.html">Go Back</a>
		</div>

	</section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer>Copyright (C) 2016 Xamarin</footer>
</body>
</html>
